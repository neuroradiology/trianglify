<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Trianglify Basic Example</title>
    <style>
    html, body {
      margin: 0 0;
      padding: 0 0;
      text-align: center;
      background: #000;
      font-family: system-ui;
    }

    h1 {
      font-size: 18px;
    }

    .demo {
      background: #FFF;
      display: inline-block;
      padding: 20px;
      margin: 20px;
    }
    </style>
  </head>
  <body>
  <!-- This is the standalone build of Trianglify. It's easy to drop in to a
  project without any need for bundlers or dependency management, but in most
  modern web projects you will probably want to use the NPM module instead -->
  <script src="../dist/trianglify.bundle.umd.js"></script>
  <script>

    const JITTER_FACTOR = 0.2


    // utility for building up HTML trees
    const h = (tagName, attrs = {}, children = []) => {
      const elem = document.createElement(tagName)
      attrs && Object.keys(attrs).forEach(
        k => attrs[k] !== undefined && elem.setAttribute(k, attrs[k])
      )
      children && children.forEach(c => elem.appendChild(c))
      return elem
    }

    const addToPage = (pattern, description) => {
      document.body.appendChild(h('div', {'class': 'demo'}, [
          pattern.toCanvas(),
          h('h1', null, [document.createTextNode(description)])
        ]
      ))
    }

    const seed = Math.random()

    // Example 1: you can use the built-in color functions to customize the
    // color rendering of Trianglify. Here, we use the 'sparkle' color
    // function to apply a 10% jitter to the normal color gradients, which
    // will yield a glitter-like effect.
    const sparkle = trianglify({
      seed,
      width: 400,
      height: 300,
      cellSize: 15,
      colorFunction: trianglify.colorFunctions.sparkle(0.2)
    })
    addToPage(sparkle, 'trianglify.colorFunctions.sparkle(0.2)')

    // Example 2: you can use the interpolateLinear color function to
    // customize how much the x or y gradient dominates the image.
    // Higher values for the bias will result in a more pronounced x-gradient,
    // while lower values will results in a more pronounced y-gradient
    const interpolate = trianglify({
      seed,
      width: 400,
      height: 300,
      cellSize: 15,
      colorFunction: trianglify.colorFunctions.interpolateLinear(0.1)
    })
    addToPage(interpolate, 'trianglify.colorFunctions.interpolateLinear(0.1)')
  </script>
  </body>
</html>
